<!DOCTYPE html>
<html lang="en" class="h-full scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>King Jerome P. Lacerna • Portfolio</title>
    <meta name="theme-color" content="#4F46E5" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;900&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/main.css" />
  </head>
  <body class="min-h-full bg-white dark:bg-gray-950 text-gray-950 dark:text-gray-100 transition-colors duration-300" style="font-family: 'Poppins', sans-serif;">
    <nav class="sticky top-0 z-50 border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-950/80 backdrop-blur transition-colors duration-300">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex h-14 items-center justify-between">
        <a href="./index.html" class="font-semibold text-gray-900 dark:text-gray-300">K.J</a>
        <div class="flex items-center gap-8">
          <ul class="flex items-center gap-8">
            <li><a class="hover:text-gray-700 dark:hover:text-gray-300 text-gray-600 dark:text-gray-400 text-sm transition" href="./index.html">Home</a></li>
            <li><a class="hover:text-gray-700 dark:hover:text-gray-300 text-gray-600 dark:text-gray-400 text-sm transition" href="./pages/about.html">About</a></li>
            <li><a class="hover:text-gray-700 dark:hover:text-gray-300 text-gray-600 dark:text-gray-400 text-sm transition" href="./pages/projects.html">Projects</a></li>
            <li><a class="hover:text-gray-700 dark:hover:text-gray-300 text-gray-600 dark:text-gray-400 text-sm transition" href="./pages/contact.html">Contact</a></li>
          </ul>
          <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 transition" aria-label="Toggle theme">
            <svg id="sun-icon" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            </svg>
            <svg id="moon-icon" class="w-5 h-5 hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
        </div>
      </div>
    </nav>

    <main class="relative min-h-[75vh] flex items-center px-4 py-8 sm:py-12 bg-white dark:bg-gray-950 transition-colors duration-300">
      <div class="mx-auto max-w-7xl grid gap-8 lg:gap-12 md:grid-cols-2 items-center">
        <!-- Left: Copy -->
        <div class="space-y-4">
          <span class="inline-flex items-center gap-2 rounded-full border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 px-3 py-1 text-xs font-medium uppercase tracking-widest text-indigo-700 dark:text-indigo-300">
            Welcome to my portfolio
          </span>

          <h1 class="space-y-2">
            <span class="block text-4xl sm:text-5xl lg:text-6xl font-black tracking-tight text-gray-950 dark:text-white" style="font-family: 'Pixelify Sans', sans-serif;">
              King Jerome P. Lacerna
            </span>
            <span class="block text-xl sm:text-2xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-violet-500 to-pink-500">
              Web developer & creative designer
            </span>
          </h1>

          <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 max-w-xl leading-relaxed">
            I craft clean, accessible, and performant digital experiences for startups and brands worldwide.
          </p>

          <div class="mt-8 flex flex-col sm:flex-row items-center gap-4 sm:gap-6">
            <a href="./pages/about.html" class="cta-link group inline-flex items-center gap-2 rounded-full bg-indigo-600 text-white px-5 py-3 shadow hover:shadow-lg hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-400 transition">
              <span class="cta-label">see my projects</span>
              <svg class="cta-arrow w-4 h-4" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M1 8h12M13 8L9 4M13 8L9 12" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </a>

            <a href="./pages/about.html" class="cta-link group inline-flex items-center gap-2 rounded-full border border-gray-300 dark:border-gray-700 px-5 py-3 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
              <span class="cta-label">more about me</span>
              <svg class="cta-arrow w-4 h-4" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M1 8h12M13 8L9 4M13 8L9 12" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </a>
          </div>
        </div>

        <!-- Right: Ambient visual (no external image) -->
        <div class="relative">
          <div class="relative w-full max-w-xs sm:max-w-sm lg:max-w-md mx-auto aspect-[4/5] rounded-2xl overflow-hidden ring-1 ring-gray-200 dark:ring-gray-800 bg-gradient-to-br from-indigo-500/20 via-fuchsia-500/10 to-emerald-500/20">
            <!-- Glow -->
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="h-32 w-32 sm:h-40 sm:w-40 rounded-full bg-gradient-to-tr from-indigo-500 to-pink-500 blur-2xl opacity-40"></div>
            </div>
            <!-- Skill badges -->
            <div class="absolute inset-x-6 bottom-6 flex flex-wrap gap-2">
              <span class="badge">HTML</span>
              <span class="badge">CSS</span>
              <span class="badge">JavaScript</span>
              <span class="badge">Tailwind</span>
              <span class="badge">Figma</span>
            </div>
          </div>
        </div>
      </div>

      <div aria-hidden="true" class="absolute inset-0 -z-10 pointer-events-none">
        <div class="absolute left-1/2 -top-10 h-60 w-60 sm:h-80 sm:w-80 -translate-x-1/2 rounded-full bg-gradient-to-tr from-indigo-400/20 to-pink-400/20 blur-3xl"></div>
      </div>
    </main>

    <!-- Scroll hint positioned after main -->
    <div class="relative -mt-16 pointer-events-none">
      <a href="#projects" aria-label="Scroll to projects" class="pointer-events-auto absolute left-1/2 -translate-x-1/2 inline-flex items-center gap-2 px-3 py-2 rounded-full bg-white/70 dark:bg-gray-900/50 backdrop-blur-sm border border-gray-200 dark:border-gray-800 text-xs text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-800 transition">
        <span>Scroll</span>
        <svg class="w-4 h-4 animate-bounce" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M3 6l5 5 5-5" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
      </a>
    </div>

    <!-- Decorative wave separator -->
    <div class="wave-separator" aria-hidden="true">
      <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M0 0 L0 60 C 180 100 360 20 600 60 C 840 100 1020 20 1200 60 L1200 0 Z" fill="var(--wave-fill)" opacity="0.15"></path>
        <path d="M0 0 L0 80 C 220 120 380 40 600 80 C 820 120 960 40 1200 80 L1200 0 Z" fill="var(--wave-fill)" opacity="0.3"></path>
        <path d="M0 0 L0 100 C 160 120 400 60 600 100 C 800 120 1040 60 1200 100 L1200 0 Z" fill="var(--wave-fill)"></path>
      </svg>
    </div>

    <!-- Projects -->
    <section id="projects" class="py-12 sm:py-16 bg-white dark:bg-gray-950 transition-colors">
      <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-xl sm:text-2xl font-semibold tracking-tight">Projects</h2>
        <div class="mt-6 grid gap-6 sm:grid-cols-2 auto-rows-fr">
          <article class="card overflow-hidden">
            <img src="./assets/images/libralinkFigma.jpg"
                 data-fallback="/Portfolio/assets/images/libralinkFigma.jpg, ./assets/images/libralinkFigma.jpeg, ./assets/images/LibraLinkFigma.jpg, ./assets/images/libralinkFigma.png"
                 alt="LibraLink • Figma"
                 class="h-64 w-full object-cover rounded-t-lg"
                 loading="lazy" />
            <div class="p-4">
              <h3 class="font-semibold">LibraLink • Figma</h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">Responsive UI exploration and prototyping based on resume highlights.</p>
              <div class="mt-3 flex flex-wrap gap-2">
                <span class="badge">Figma</span><span class="badge">UI</span><span class="badge">Responsive</span>
              </div>
            </div>
          </article>

          <article class="card overflow-hidden group relative">
            <img src="./assets/images/responsysFigma.jpg"
                 data-fallback="/Portfolio/assets/images/responsysFigma.jpg, ./assets/images/responsysFigma.jpeg, ./assets/images/ResponsysFigma.jpg, ./assets/images/responsysFigma.png"
                 alt="Responsys • Figma"
                 class="h-64 w-full object-cover rounded-t-lg"
                 loading="lazy" />
            <div class="p-4">
              <h3 class="font-semibold">Responsys • Figma</h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">Dashboard layout and component system aligned with resume experience.</p>
              <div class="mt-3 flex flex-wrap gap-2">
                <span class="badge">Figma</span><span class="badge">Design System</span><span class="badge">Components</span>
              </div>
            </div>
            <!-- Expandable overlay on hover -->
            <div class="absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end rounded-lg overflow-hidden">
              <div class="w-full transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out bg-gradient-to-t from-black/80 to-transparent p-6">
                <a class="btn w-full text-center justify-center" href="https://responsysgarcia.com" target="_blank" rel="noopener noreferrer">Live Demo →</a>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <footer id="site-footer" class="mt-12"></footer>
    
    <!-- Scroll to top button -->
    <button id="scroll-to-top" class="scroll-to-top" aria-label="Scroll to top" title="Scroll to top">
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path d="M12 19V5M5 12l7-7 7 7" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </button>

    <script>
  // Theme initialization and toggle
  function initTheme() {
    const html = document.documentElement;
    const saved = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const isDark = saved ? saved === 'dark' : prefersDark;
    if (isDark) html.classList.add('dark'); else html.classList.remove('dark');
    updateThemeButton();
  }

  function updateThemeButton() {
    const btn = document.getElementById('theme-toggle');
    const isDark = document.documentElement.classList.contains('dark');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    if (isDark) {
      sunIcon?.classList.add('hidden');
      moonIcon?.classList.remove('hidden');
    } else {
      sunIcon?.classList.remove('hidden');
      moonIcon?.classList.add('hidden');
    }
  }

  function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    updateThemeButton();
    syncWaveColorsToAbove();
  }

  document.getElementById('theme-toggle')?.addEventListener('click', toggleTheme);
  initTheme();

  // Load shared footer component and set year.
  fetch('./src/components/footer.html')
    .then(r => r.text())
    .then(html => {
      const el = document.getElementById('site-footer');
      if (el) el.innerHTML = html;
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear().toString();
    })
    .catch(console.error);

  // Interactive CTA links: glow follows cursor + subtle magnetic hover
  function initCtaLinks() {
    document.querySelectorAll('.cta-link').forEach(el => {
      let raf;
      const reset = () => {
        el.style.transform = '';
        el.style.removeProperty('--x');
        el.style.removeProperty('--y');
      };
      el.addEventListener('mousemove', (e) => {
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(() => {
          const rect = el.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          el.style.setProperty('--x', x + 'px');
          el.style.setProperty('--y', y + 'px');
          const dx = (x / rect.width - 0.5) * 10;
          const dy = (y / rect.height - 0.5) * 10;
          el.style.transform = `translate(${dx}px, ${dy}px)`;
        });
      });
      el.addEventListener('mouseleave', reset);
      el.addEventListener('blur', reset);
    });
  }

  // Image fallback: try alternate paths/extensions if initial load fails
  function setupImageFallbacks() {
    document.querySelectorAll('img[data-fallback]').forEach((img) => {
      const fallbacks = (img.dataset.fallback || '').split(',').map(s => s.trim()).filter(Boolean);
      let i = 0;
      img.addEventListener('error', () => {
        if (i < fallbacks.length) {
          img.src = fallbacks[i++];
        }
      });
    });
  }

  // Scroll to top button functionality
  function initScrollToTop() {
    const btn = document.getElementById('scroll-to-top');
    if (!btn) return;
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) btn.classList.add('show');
      else btn.classList.remove('show');
    });
    btn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  // Use the section above each wave to set its color (supports solid bg and gradients)
  function syncWaveColorsToAbove() {
    document.querySelectorAll('.wave-separator').forEach((wrap) => {
      const prev = wrap.previousElementSibling;
      if (!prev) return;
      const cs = getComputedStyle(prev);
      let color = cs.backgroundColor || 'rgba(0,0,0,0.05)';
      const bgImg = cs.backgroundImage;
      if (bgImg && bgImg !== 'none') {
        const lastRGBA = bgImg.match(/(rgba?\([^)]+\))(?!.*rgba?\()/);
        if (lastRGBA) color = lastRGBA[1];
      }
      const paths = wrap.querySelectorAll('path');
      paths.forEach((p, i) => {
        p.setAttribute('fill', color);
        // remove any stroke to avoid the thin line at the top of the wave
        p.setAttribute('stroke', 'none');
        p.removeAttribute('stroke-width');
        if (i === 0) p.setAttribute('opacity', '0.15');
        else if (i === 1) p.setAttribute('opacity', '0.30');
        else p.removeAttribute('opacity');
      });
    });
  }

  // Recompute on load and when system theme changes
  window.addEventListener('DOMContentLoaded', syncWaveColorsToAbove);
  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', syncWaveColorsToAbove);

  // Initialize after theme and CTA setup
  initCtaLinks();
  setupImageFallbacks();
  initScrollToTop();
  syncWaveColorsToAbove();
</script>
  </body>
</html>